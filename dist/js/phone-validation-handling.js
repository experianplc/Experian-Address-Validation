document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("phone"),t=document.getElementById("validate-phone-button"),n=document.getElementById("phone-validation-result"),o=document.getElementById("country-code");let d;let a=localStorage.getItem("validation-token");a||(a=localStorage.getItem("validation-token")),function(e){d=new PhoneValidation({token:e})}(a),t.addEventListener("click",(function(){const t={number:e.value,country_iso:o.value};d.validatePhone(t)})),d.events.on("post-validation",(function(e){const t=document.getElementById("phone-validation-result-body");n.classList.remove("hidden"),t.innerHTML="";const o={"result.number":"Input Number","result.validated_phone_number":"Validated Number","result.formatted_phone_number":"Formatted Number","result.phone_type":"Type","result.confidence":"Confidence","result.ported_date":"Ported Date","result.disposable_number":"Disposable"};for(const n in o){const a=o[n],l=(d=e,n.split(".").reduce(((e,t)=>e&&e[t]),d));if(void 0!==l){const e=document.createElement("tr"),n=document.createElement("td");n.innerText=a,n.style.fontWeight="bold";const o=document.createElement("td");o.innerText=l,e.appendChild(n),e.appendChild(o),t.appendChild(e)}}var d;if(e.metadata&&e.metadata.phone_detail){const n=e.metadata.phone_detail;for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const o=document.createElement("tr"),d=document.createElement("td");d.innerText=e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),d.style.fontWeight="bold";const a=document.createElement("td");a.innerText=n[e],o.appendChild(d),o.appendChild(a),t.appendChild(o)}}})),d.events.on("validation-error",(function(e){n.classList.remove("hidden"),n.innerText=`Error: ${e}`}))}));