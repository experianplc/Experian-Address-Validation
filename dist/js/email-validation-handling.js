document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("email"),t=document.getElementById("validate-email-button"),n=document.getElementById("email-validation-result");var i={token:localStorage.getItem("email-validation-token")};const a=new EmailValidation(i);t.addEventListener("click",(function(){const t=e.value;console.log("Validate button clicked. Email:",t),a.validateEmail(t)})),a.events.on("pre-validation",(function(){n.classList.add("hidden"),n.innerText="Validating email..."})),a.events.on("post-validation",(function(e){const t=document.getElementById("validation-result-body");n.classList.remove("hidden"),t.innerHTML="";const i={"result.email":"Email","result.confidence":"Status","result.verbose_output":"Verbose Output","metadata.domain_detail.type":"Type"};for(const n in i){const o=i[n],d=(a=e,n.split(".").reduce(((e,t)=>e&&e[t]),a));if(void 0!==d){const e=document.createElement("tr"),n=document.createElement("td");n.innerText=o,n.style.fontWeight="bold";const i=document.createElement("td");i.innerText=d,e.appendChild(n),e.appendChild(i),t.appendChild(e)}}var a})),a.events.on("validation-error",(function(e){n.classList.remove("hidden"),n.innerText=`Error: ${e}`})),t.addEventListener("click",(function(){const t=e.value;a.validateEmail(t)}))}));